{"version":3,"sources":["../src/main/webManager/expressWebManager.ts"],"names":[],"mappings":";AAIA;IAIE,YAAoB,UAAe,EAAU,aAA6B;QAAtD,eAAU,GAAV,UAAU,CAAK;QAAU,kBAAa,GAAb,aAAa,CAAgB;QACxE,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;QAC3D,CAAC;QACD,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC;IACpC,CAAC;IAEM,WAAW,CAAC,YAA0B,EAAE,aAAkB;QAC/D,IAAI,MAAM,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC;QACrC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAChB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qBAAqB,MAAM,CAAC,WAAW,EAAE,IAAI,YAAY,CAAC,IAAI,GAAG,CAAC,CAAC;QACvF,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,IAAI,EAAE,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;IACpF,CAAC;AACH,CAAC;AAlBY,yBAAiB,oBAkB7B,CAAA","file":"expressWebManager.js","sourcesContent":["import {EndpointInfo} from \"../decorator/mvc\";\nimport {Logger, LoggerFactory} from \"../loggerFactory\";\nimport {WebManager} from \"./webManager\";\n\nexport class ExpressWebManager implements WebManager {\n  private logger: Logger;\n  private router: any;\n\n  constructor(private expressApp: any, private loggerFactory?: LoggerFactory) {\n    if (loggerFactory) {\n      this.logger = loggerFactory.getLogger(ExpressWebManager);\n    }\n    this.router = expressApp.Router();\n  }\n\n  public registerApi(endpointInfo: EndpointInfo, classInstance: any) {\n    let method = endpointInfo.type.value;\n    if (this.logger) {\n      this.logger.debug(`Registering api - ${method.toUpperCase()} ${endpointInfo.path}.`);\n    }\n    this.router[method](endpointInfo.path, endpointInfo.callback.bind(classInstance));\n  }\n}"]}